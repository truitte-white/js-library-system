<%- include('partials/header') %>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Books List</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/public/style.css">
    <style>
        body {
            background-color: #f0faff; /* Light blue background */
            color: #333; /* Dark text color */
            padding: 20px; /* Add padding to body for spacing */
        }
        h1.books-title {
            background-color: #007bff; /* Blue background for title */
            color: #fff; /* White text color */
            padding: 10px; /* Padding inside title */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Shadow for depth */
            margin-bottom: 20px; /* Space between title and table */
        }
        .books-table {
            background-color: #fff; /* White background for table */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 0 10px rgba(0,0,0,0.1); /* Shadow for depth */
            padding: 20px; /* Padding inside table */
            margin-top: 20px; /* Space between header and table */
        }
        .books-table th, .books-table td {
            padding: 10px; /* Padding inside table cells */
        }
        .action-buttons {
            white-space: nowrap; /* Prevent button text wrapping */
        }
    </style>
</head>
<body>

    <!-- Include the header partial -->
    <% include('./header') %>

    <h1 class="books-title">Books List</h1>
    <table class="books-table">
        <thead>
            <tr>
                <th>Book ID</th>
                <th>Book Title</th>
                <th>Author</th>
                <th>Genre</th>
                <th>Year Published</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <% books.forEach(book => { %>
                <tr>
                    <td><%= book.bookId %></td>
                    <td><%= book.bookName %></td>
                    <td><%= book.authorName %></td>
                    <td><%= book.genre %></td>
                    <td><%= book.publishYear %></td>
                    <td><%= getStatusString(book.status) %></td>
                    
                    <td class="action-buttons">
                        <button onclick="handleCheckout('<%= book.bookId %>')" class="btn btn-primary">Checkout</button>
                        <button onclick="handleAddComment('<%= book.bookId %>')" class="btn btn-info">Add Comment</button>
                        <button onclick="handleUpdateStatus('<%= book.bookId %>')" class="btn btn-secondary">Update Status</button>
                    </td>
                </tr>
            <% }); %>
        </tbody>
    </table>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
